<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebURL - WebURL.JSModel</title>
    <link rel="stylesheet" type="text/css" href="/swift-url/0.2.0/all.css" media="all" />
</head>
<body>
    <header>
        <a href="/swift-url/0.2.0/">
            <strong>
                WebURL
            </strong>
            <span>Documentation</span>
        </a>
        <sup>Beta</sup>
    </header>

    <!--
    <form class="search">
        <input type="search" placeholder="Search" />
    </form>
    -->

    <nav>
        <div class="wrapper">
            <h2>On This Page</h2>
            <ol><li><a href="#relationships">Relationships</a><ul><li><a href="#relationships">Member Of</a></li><li><a href="#relationships">Conforms To</a></li></ul></li><li><a href="#initializers">Initializers</a><ul><li class="initializer"><a href="#weburl.jsmodel.init?(_:base:)">init?(_:​base:​)</a></li></ul></li><li><a href="#properties">Properties</a><ul><li class="variable"><a href="#weburl.jsmodel.swiftmodel">swift​Model</a></li><li class="variable"><a href="#weburl.jsmodel.description">description</a></li><li class="variable"><a href="#weburl.jsmodel.href">href</a></li><li class="variable"><a href="#weburl.jsmodel.origin">origin</a></li><li class="variable"><a href="#weburl.jsmodel.username">username</a></li><li class="variable"><a href="#weburl.jsmodel.password">password</a></li><li class="variable"><a href="#weburl.jsmodel.scheme">scheme</a></li><li class="variable"><a href="#weburl.jsmodel.hostname">hostname</a></li><li class="variable"><a href="#weburl.jsmodel.host">host</a></li><li class="variable"><a href="#weburl.jsmodel.port">port</a></li><li class="variable"><a href="#weburl.jsmodel.pathname">pathname</a></li><li class="variable"><a href="#weburl.jsmodel.search">search</a></li><li class="variable"><a href="#weburl.jsmodel.hash">hash</a></li></ul></li><li><a href="#methods">Methods</a><ul><li class="function"><a href="#weburl.jsmodel.hash(into:)">hash(into:​)</a></li></ul></li><li><a href="#operators">Operators</a><ul><li class="function"><a href="#weburl.jsmodel.==">==</a></li></ul></li></ol>
        </div>
    </nav>

    <main>
        <article>
            <h1>
    <small>Structure</small>
    <code class="name">Web​URL.​JSModel</code>
</h1>

<div class="declaration">
<pre class="highlight"><code><span class="keyword">public</span> <span class="keyword">struct</span> <span class="type">JSModel</span> </code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>An interface to this URL whose properties have the same behaviour as the JavaScript <code>URL</code> class described in the <a href="https://url.spec.whatwg.org/#url-class">URL Standard</a>.</p>

</div>
<div class="discussion">
    <p>The other APIs exposed by <code>WebURL</code> are preferred over this interface, as they are designed to better match the expectations of Swift developers.
JavaScript is JavaScript, and what is useful or expected functionality in that language may be undesirable and surprising in contexts where Swift is used.
It is also subject to legacy and browser interoperability considerations which do not apply to the <code>WebURL</code> API.</p>

<p>The primary purpose of this API is to facilitate testing (this API is tested directly against the common web-platform-tests used by major browsers to
ensure compliance with the standard), and to aid developers porting applications from JavaScript or other languages, or interoperating with them,
since this functionality exposed by this interface matches the JavaScript <code>URL</code> class.</p>

<p>The main differences between the Swift <code>WebURL</code> API and the JavaScript <code>URL</code> class are:</p>

<ul>
<li>
<p><code>WebURL</code> uses <code>nil</code> to represent not-present values, rather than using empty strings.</p>
<p>This can be a more accurate description of components which keep their delimiter even when empty.
For example, in JavaScript, the URLs &quot;http://example.com/&quot; and &quot;http://example.com/?&quot; both return an empty string for the <code>search</code> property,
even though the &quot;?&quot; query delimiter is present in one of the strings and not in the other. This has secondary effects, such as
<code>url.search = url.search</code> potentially changing the serialized URL string. <code>WebURL</code> models the former as <code>nil</code> (to mean &quot;not present&quot;),
and the latter as an empty string, to more accurately describe the structure of the URL. URLs are confusing and complex enough.</p>
</li>
<li>
<p><code>WebURL</code> does not include delimiters in its components.</p>
<p>For example, the query string's leading &quot;?&quot; is part of the JavaScript URL class's <code>.search</code> property, but <em>not</em> part of <code>WebURL</code>'s <code>.query</code> property.
We assume that most consumers of the query or fragment strings are going to drop this delimiter as the first thing that they do, and it also happens
to match the behaviour of Foundation's <code>URL</code> type.</p>
<p>For setters, JavaScript also drops a leading &quot;?&quot; or &quot;#&quot; delimiter when setting the <code>search</code> or <code>hash</code>. <code>WebURL</code> does not - the value you provide
is the value that will be set, with percent-encoding if necessary to make it work.</p>
<p>Note that this only applies to 3 components, all of which have different names between JavaScript's URL class and <code>WebURL</code>
(<code>protocol</code> vs <code>scheme</code>, <code>search</code> vs <code>query</code>, <code>hash</code> vs <code>fragment</code>).</p>
</li>
<li>
<p><code>WebURL</code> does not filter ASCII whitespace characters in component setters.</p>
<p>In JavaScript, you can set <code>url.search = &quot;\t\thello\n&quot;</code>, and the tabs and newlines will be silently removed.
<code>WebURL</code> percent-encodes those characters, like it does for other disallowed characters, so they are maintained in the component's value.</p>
</li>
<li>
<p><code>WebURL</code> does not ignore trailing content when setting a component.</p>
<p>In the following example, JavaScript's <code>URL</code> class finds a hostname at the start of the given new value - but the new value also includes a path and query.
JavaScript detects these, but silently drops them while succesfully changing the hostname. This happens for many (but not all) of the setters in the
JavaScript model.</p>
<pre><code class="language-javascript">var url = new URL(&quot;http://example.com/hello/world?weather=sunny&quot;);
url.hostname = &quot;test.com/some/path?query&quot;;
url.href; // &quot;http://test.com/hello/world?weather=sunny&quot;
</code></pre>
<p>Continuing with the theme of <code>WebURL</code> component setters being stricter about setting precisely the string that you give them, this operation would
fail if setting <code>WebURL.hostname</code>, as &quot;/&quot; is a forbidden host code-point.</p>
</li>
</ul>

<p>If these deviations sound pretty reasonable to you, and you do not have a compelling need for something which exactly matches the JavaScript model,
use the <code>WebURL</code> interface instead.</p>

</div>
<section id="relationships">
    <h2 hidden>Relationships</h2>
        
        <h3>Member Of</h3>
<dl>
    <dt class="structure"><code><a href="/swift-url/0.2.0/WebURL">WebURL</a></code></dt>
<dd><p>A Uniform Resource Locator (URL) is a universal identifier, which often describes the location of a resource.</p>
</dd>
</dl>
<h3>Conforms To</h3>
<dl>
    <dt class="unknown"><code>CustomStringConvertible</code></dt>
<dt class="unknown"><code>Equatable</code></dt>
<dt class="unknown"><code>Hashable</code></dt>
</dl>
</section>
    <section id="initializers">
        <h2>Initializers</h2>

        <div role="article" class="initializer" id="weburl.jsmodel.init?(_:base:)">
    <h3>
        <code>init?(_:​base:​)</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="keyword">public</span> <span class="keyword">init</span>?(<span class="keyword">_</span> <span class="variable">string</span>: <span class="type">String</span>, <span class="variable">base</span>: <span class="type">String</span>?) </code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Constructs a new URL by parsing <code>string</code> against the given <code>base</code> URL string.</p>

</div>
<div class="discussion">
    <p>If <code>base</code> is <code>nil</code>, this is equivalent to <code>WebURL(string)</code>. Otherwise, it is equivalent to <code>WebURL(base)?.resolve(string)</code>.</p>

</div>
</div>
    </section>
    <section id="properties">
        <h2>Properties</h2>

        <div role="article" class="variable" id="weburl.jsmodel.swiftmodel">
    <h3>
        <code>swift​Model</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="keyword">public</span> <span class="keyword">var</span> <span class="variable">swiftModel</span>: <span class="type">WebURL</span> </code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>The <code>WebURL</code> interface to this URL, with properties and functionality tailored to Swift developers.</p>

</div>
</div>
<div role="article" class="variable" id="weburl.jsmodel.description">
    <h3>
        <code>description</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="keyword">public</span> <span class="keyword">var</span> <span class="variable">description</span>: <span class="type">String</span> </code></pre>
</div>
</div>
<div role="article" class="variable" id="weburl.jsmodel.href">
    <h3>
        <code>href</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="keyword">public</span> <span class="keyword">var</span> <span class="variable">href</span>: <span class="type">String</span> </code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Gets and sets the serialized URL.</p>

</div>
</div>
<div role="article" class="variable" id="weburl.jsmodel.origin">
    <h3>
        <code>origin</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="keyword">public</span> <span class="keyword">var</span> <span class="variable">origin</span>: <span class="type">String</span> </code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Gets the read-only serialization of the URL's origin.</p>

</div>
</div>
<div role="article" class="variable" id="weburl.jsmodel.username">
    <h3>
        <code>username</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="keyword">public</span> <span class="keyword">var</span> <span class="variable">username</span>: <span class="type">String</span> </code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Gets and sets the username portion of the URL.</p>

</div>
</div>
<div role="article" class="variable" id="weburl.jsmodel.password">
    <h3>
        <code>password</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="keyword">public</span> <span class="keyword">var</span> <span class="variable">password</span>: <span class="type">String</span> </code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Gets and sets the password portion of the URL.</p>

</div>
</div>
<div role="article" class="variable" id="weburl.jsmodel.scheme">
    <h3>
        <code>scheme</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="keyword">public</span> <span class="keyword">var</span> <span class="variable">scheme</span>: <span class="type">String</span> </code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Gets and sets the protocol portion of the URL.</p>

</div>
<div class="discussion">
    <aside class="Note">
    <p>This property is called <code>protocol</code> in Javascript.</p>

</aside>
</div>
</div>
<div role="article" class="variable" id="weburl.jsmodel.hostname">
    <h3>
        <code>hostname</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="keyword">public</span> <span class="keyword">var</span> <span class="variable">hostname</span>: <span class="type">String</span> </code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Gets and sets the host name portion of the URL.
The key difference between <code>url.host</code> and <code>url.hostname</code> is that <code>url.hostname</code> does not include the port.</p>

</div>
</div>
<div role="article" class="variable" id="weburl.jsmodel.host">
    <h3>
        <code>host</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="keyword">public</span> <span class="keyword">var</span> <span class="variable">host</span>: <span class="type">String</span> </code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Gets the host portion of the URL.</p>

</div>
</div>
<div role="article" class="variable" id="weburl.jsmodel.port">
    <h3>
        <code>port</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="keyword">public</span> <span class="keyword">var</span> <span class="variable">port</span>: <span class="type">String</span> </code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Gets and sets the port portion of the URL.</p>

</div>
</div>
<div role="article" class="variable" id="weburl.jsmodel.pathname">
    <h3>
        <code>pathname</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="keyword">public</span> <span class="keyword">var</span> <span class="variable">pathname</span>: <span class="type">String</span> </code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Gets and sets the path portion of the URL.</p>

</div>
</div>
<div role="article" class="variable" id="weburl.jsmodel.search">
    <h3>
        <code>search</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="keyword">public</span> <span class="keyword">var</span> <span class="variable">search</span>: <span class="type">String</span> </code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Gets and sets the serialized query portion of the URL.</p>

</div>
</div>
<div role="article" class="variable" id="weburl.jsmodel.hash">
    <h3>
        <code>hash</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="keyword">public</span> <span class="keyword">var</span> <span class="variable">hash</span>: <span class="type">String</span> </code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Gets and sets the fragment portion of the URL.</p>

</div>
</div>
    </section>
    <section id="methods">
        <h2>Methods</h2>

        <div role="article" class="function" id="weburl.jsmodel.hash(into:)">
    <h3>
        <code>hash(into:​)</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="keyword">public</span> <span class="keyword">func</span> <span class="function">hash</span>(<span class="variable">into</span> <span class="variable">hasher</span>: <span class="keyword">inout</span> <span class="type">Hasher</span>) </code></pre>
</div>
</div>
    </section>
    <section id="operators">
        <h2>Operators</h2>

        <div role="article" class="function" id="weburl.jsmodel.==">
    <h3>
        <code>==</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">func</span> == (<span class="variable">lhs</span>: <span class="keyword">Self</span>, <span class="variable">rhs</span>: <span class="keyword">Self</span>) -&gt; <span class="type">Bool</span> </code></pre>
</div>
</div>
    </section>



        </article>
    </main>

    <footer>
        <p>
    Generated on <time datetime="2021-12-15T15:45:42+0000">December 15, 2021</time> using a fork of <a href="https://github.com/SwiftDocOrg/swift-doc">swift-doc</a> <span class="version">1.0.0-beta.6</span>.
</p>
    </footer>
</body>
</html>
